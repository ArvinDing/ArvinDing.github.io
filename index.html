<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
        </script>
</head>
<style>
    .content {
        margin-left: 5vw;
    }
</style>

<body>
    <div id="nav-placeholder"></div>
    <div class="content">
        <p>Hi, I'm Arvin Ding. I've always wanted to make a math video at some point, drawing inspiration from 3Blue1Brown and Mathologer. To fully flesh out my ideas, I decided to first create a blog version.</p>
        
        <h1>Generalized Knights</h1>
        <p>Recently I came across this competitive coding <a href="https://open.kattis.com/problems/generalizedknights">question</a>.<br> TLDR: Given an \((\pm a,\pm b)\) knight find minimum number of moves to reach \((x,y)\) where \(0\leq a,b,x,y \leq 10^9\).
            <br>
            With the help of <a href="https://github.com/u8y7541">Surya</a>, we came to a fairly interesting solution; Not sure if this is the intended solution, but I wanted to share our approach. 
        <br>
        <img src="knight.png" alt="knight moves" width="200" height="200" style="border: 1px solid #ccc;">
        <br>
        The knight can move in exactly 8 directions \((+a,+b),(+b,+a),(-a,+b),(-b,+a),(-a,-b),(-b,-a),(a,-b)\), and \((b,-a)\) (these moves are all different if and only if \(a\neq b\)).
       
        Perhaps, the first observation should be that a simple breadth first search or depth first search is far too slow. We would potenially have to take up to \(10^{18}\) moves at which we would visit somewhere around the order of \(10^{36}\) (far far far too large).
        We need something more clever, some way to not compute the minimum path to every intermediate node/cell. 
        
        Let's build up to the solution.
        <h3>Refactoring the problem</h3>
        Our final sequence moves can be expressed as some linear combination of these 8 moves. Now note for any possible knight move the knight can also move in the opposite direction(make a move that cancels out the first).
        In fact, we can partition the moves into a 4 groups of 2 moves each which will cancel each other out: 
        \[\{(+a,+b), (-a,-b)\},\{(+a,-b),(-a,+b)\},\{(+b,-a),(-b,+a)\},\{(-b,-a),(b,a)\}\]
        Because we are trying to minimize our moves, the optimal sequence of moves should only contain at most one type of move from each group. 
        
        Also, note that knight can be partitioned into 2 groups of 4 moves, where each move is amount of 90 degree turns from every other move in the group.
        \[\{+a,+b\},\{-b,+a\},\{-a,-b\},\{b,-a\}\] 
        \[\{+b,+a\},\{-a,+b\},\{-b,-a\},\{a,-b\}\]

        Now this is the first complex step. Recall that multiplication by complex number has a strong ties with rotation. So much so that multiplying a complex number by \(i\) yields
        the complex number that is the 90 degree rotation counter clockwise (assuming were viewing the complex numbers as point in the real imaginary plane). 
        \[a+bi = i^0(a+bi)\]
        \[-b+ai = i(a+bi)\]
        \[-a+bi = i^2(a+bi)\]
        \[b-ai = i^3(a+bi)\]
        
        With this observation we can reformulate the questions comletely in terms of complex numbers. 
        
        Namely,given integers \(a,b,x,y\) find integers \(m_0,m_1,m_2,m_3\) and integers \(n_0,n_1,n_2,n_3\) where 
        \(m_0+m_1+m_2+m_3+n_0+n_1+n_2+n_3\) is minimized given
        
        \[m_0(i^0(a+bi))+m_1(i^1(a+bi))+m_2(i^2(a+bi))+m_3(i^3(a+bi))+n_0(i^0(a+bi))+n_1(i^1(b+ai))+n_2(i^2(b+ai))+n_3(i^3(b+ai))=x+yi\]
        Simplifying a tad we have
        \[(m_0-m_2)((a+bi))+(m_1-m_3)(i(a+bi))+(n_0-n_2)((b+ai))+(n_1-n_3)(i(b+ai))=x+yi\]
        By our observation that the optimal sequence of moves should never contain opposite moves,
        out of each group \(m_0\) & \(m_2\), \(m_1\) & \(m_3\), and so on at least one coefficient will be zero.
       <br><br>
        In fact with this we can simplify the question to
        find integers \(m_0,m_1\) and integers \(n_0,n_1\) where 
        \(|m_0|+|m_1|+|n_0|+|n_1|\) is minimized given
        
        \[m_0((a+bi))+m_1(i(a+bi))+n_0((b+ai))+n_1(i(b+ai))=x+yi\]
        \[(m_0+im_1)(a+bi)+(n_0+in_1)(b+ai)=x+yi\]
        following from the fact that we don't need 2 number to reprsent positive moves and negatives moves.

        Now the constraint may look oddly familar to some astute readers. Its very reminiscent of Bezout's lemma for integers, except we have complex number or more specifically complex number with integer coefficients instead of integers.
        While this is a cool coincidence, it's also actually helpful for solving the question because Bezout's lemma also applies to gaussian integers (complex numbers with integer coefficients, commonly denoted by \(\mathbb {Z} [i]\)). 
        
        <br><br>
        Bezout's lemma states "Let \(a\) and \(b\) be integers with greatest common divisor \(d\). Then there exist integers \(x\) and \(y\) such that \[ax + by = d.\] Moreover, the integers of the form \(az + bt\) are exactly the multiples of \(d\)
        <br>
        Now let's see how we can adapt this to complex number. First, how do we even define gcd (greatest commond divisor) for complex numbers? 
        Let the norm of gaussian integer \(x+yi\) be defined as \(N(x+yi)=x^2+y^2\). Also we say gaussian integer x divides y if and only f there exists a guassian integer z such that 
        \[xz=y.\]

        Then the gcd gaussian integers \(a+bi\) and \(c+di\) is the number with the biggest norm that divide both \(a+bi\) and \(c+di\). Note that gcd is no longer unique (in fact we will have 4 gcds for a pair of gaussian integers).
        The <a href="https://cp-algorithms.com/algebra/extended-euclid-algorithm.html">standard euclidean algorithm</a> for caluating the coefficents in Bezout's identity also holds the same given that in our notion of division when we divide guassian integer \(m\) by gaussian integer \(n\) we get gaussian integer \(q\) and gaussian integer \(r\) such that \(m=q*n+r\) where \(N(r)< N(n)\).
        For more rigorization on gaussian integers see <a href="https://www.math.uci.edu/~ndonalds/math180b/6gaussian.pdf">this</a>
        <br><br>
        This is all to say that with proper notions of various operations on guassian integers and the euclidean algorithm, we can calculate at least one solution \(m_0,m_1,n_0,n_1\) to our constraint
        \[(m_0+im_1)(a+bi)+(n_0+in_1)(b+ai)=x+yi\]
        given \(a,b,x,y\) by first caluating the (any) gcd \(g\) of \(a+bi\) and \(b+ai\) and the coefficents such that their linear combination equals g i.e. we can find gaussian integers \(l,m\) such that
        \[l(a+bi)+m(b+ai)=g.\]
        Then we can find if \(x+yi\) is divisble by g (if it's not then it's not possible to reach the target square and if it is we will show its always possible).
        Assuming it is, by multiplying both sides by gaussian integer \(\frac{x+yi}{g}\) we find 
        \[(l\frac{x+yi}{g})(a+bi)+(m\frac{x+yi}{g})(b+ai)=x+yi\]
        or in other words gaussian integers (gaussian integers are closed under multiplication) such that when multipled with \(a+bi\) and \(b+ai\) and summed we get \(x+yi\).

        This gives us at least one solution to our complex number question. But, this isn't enough. We need to find out of all solutions which ones is minimial.
        <h3>Optimizing for the minimal solution</h3>
        <h2>Failed(?) Approaches</h2>

        </p>
    </div>
</body>

<script>
    $(function () {
        $("#nav-placeholder").load("nav.html");
    });
</script>